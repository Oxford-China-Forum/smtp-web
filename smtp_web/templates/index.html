{% extends "base.html" %}
{% block title %}{% endblock %}

{% block head %}
  {{ super() }}
  <!-- <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css"> -->
{% endblock %}
{% block scripts %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.2/socket.io.js" integrity="sha512-zN6KYOtONNTOGXz0RkWX2EpavN9VdIs+2w+To+fhciFv83YA9maUpi2lzZWrOfKXdFIZZomWufBznkyHi3a8oQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="/static/index.js"></script>
  {{ super() }}
{% endblock %}

{% block content %}
  <div class="d-flex flex-row container-fluid p-0" id="page-container">

    <div class="d-flex flex-column text-white bg-dark" id="page-left-container">
      <form id="preview-form" action="#" method="POST" enctype="multipart/form-data">
        <div class="row">
          <div class="col step-number-container">
            <p class="step-number">1</p>
          </div>
          <div class="col">
            <p>邮件标题</p>
            <input type="text" class="form-control" id="subjectInput" name="subject" value="Welcome to OCF!">
          </div>
        </div>
        <div class="row">
          <div class="col step-number-container">
            <p class="step-number">2</p>
          </div>
          <div class="col">
            <p>上传邮件模板 Markdown 文件</p>
            <input type="file" class="form-control" id="bodyFile" name="body">
            <!-- <form action="/file-upload" class="dropzone" id="body-dropzone"></form>
            <form action="/file-upload" class="dropzone" id="an-other-form-element"></form> -->
          </div>
        </div>
        <div class="row">
          <div class="col step-number-container">
            <p class="step-number">3</p>
          </div>
          <div class="col">
            <p>上传收件人 Excel 列表</p>
            <input type="file" class="form-control" id="recipientsFile" name="recipients">
            <!-- <div id="recipientsDropzone"></div> -->
          </div>
        </div>
        <div class="row">
          <div class="col step-number-container">
            <p class="step-number">4</p>
          </div>
          <div class="col">
            <p>上传附件（没有则留空既可）</p>
            <input type="file" class="form-control" id="attachments" name="attachments" multiple>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <button type="submit" value="查看预览" class="btn btn-lg btn-outline-light" id="submit-btn" style="margin-right: 1em;">查看预览</button>
            <button type="button" value="确认发送" class="btn btn-lg btn-danger" id="confirm-send-btn" hidden>确认发送</button>
          </div>
        </div>
        <div class="row mt-4 text-bold">
          <p id="status-info"></p>
        </div>
      </form>
    </div>

    <div class="d-flex flex-column flex-shrink-0 p-3" id="page-right-container"></div>

  </div>
{% endblock %}
    